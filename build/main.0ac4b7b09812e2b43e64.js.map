{"version":3,"sources":["webpack:///./js/CountdownTimer.js","webpack:///./js/DatePicker.js","webpack:///./index.js"],"names":["CountdownTimer","selector","targetDate","rememberParameters","this","_refs","timer","document","querySelector","days","hours","mins","secs","messageEl","_createMessageEl","descriptionEl","_createTimerDescriptionEl","append","before","_rememberParameters","_checkLocalStorage","_getLocalStorageTargetDate","_targetDate","_remainingTime","_countTime","_setValues","_runTimer","setTargetDate","year","month","day","hour","min","sec","Date","_setLocalStorageTargetDate","_showMessage","toLocaleString","currentDate","time","_messageHandler","Math","floor","_clearTimer","_hideMessage","_numberAnimation","_setValue","value","toString","length","ref","Number","parseInt","textContent","style","transform","setTimeout","clearInterval","_timerId","setInterval","_setTimerDescriptionValue","localStorage","getItem","setItem","createElement","position","top","padding","borderRadius","opacity","pointerEvents","transition","text","color","backgroundColor","description","margin","marginTop","textAlign","fontStyle","DatePicker","yearSelector","monthSelector","daySelector","hourSelector","minSelector","secSelector","buttonSelector","startYear","startMonth","startDay","startHour","startMin","startSec","_dateRefs","button","_setDateValues","_buttonHandler","cb","countdownTimer","date","datePicker","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","addEventListener","bind"],"mappings":"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","file":"main.0ac4b7b09812e2b43e64.js","sourcesContent":["export class CountdownTimer {\r\n  constructor({ selector, targetDate, rememberParameters = true }) {\r\n    this._refs = {\r\n      timer: document.querySelector(selector),\r\n      days: document.querySelector(`${selector} [data-value=\"days\"]`),\r\n      hours: document.querySelector(`${selector} [data-value=\"hours\"]`),\r\n      mins: document.querySelector(`${selector} [data-value=\"mins\"]`),\r\n      secs: document.querySelector(`${selector} [data-value=\"secs\"]`),\r\n      messageEl: this._createMessageEl(),\r\n      descriptionEl: this._createTimerDescriptionEl(),\r\n    };\r\n    this._refs.timer.append(this._refs.messageEl);\r\n    this._refs.timer.before(this._refs.descriptionEl);\r\n    this._rememberParameters = rememberParameters;\r\n    if (this._checkLocalStorage() && this._rememberParameters) {\r\n      this._getLocalStorageTargetDate();\r\n    } else {\r\n      this._targetDate = targetDate;\r\n    }\r\n\r\n    this._remainingTime = {};\r\n    this._countTime();\r\n    this._setValues();\r\n    this._runTimer();\r\n  }\r\n  setTargetDate(year, month, day, hour = 0, min = 0, sec = 0) {\r\n    this._targetDate = new Date(year, month - 1, day, hour, min, sec);\r\n    if (this._rememberParameters)\r\n      this._setLocalStorageTargetDate(year, month, day, hour, min, sec);\r\n    this._showMessage(\r\n      `Target date: ${this._targetDate.toLocaleString()}`,\r\n      'rgba(0, 66, 20, 0.8)',\r\n    );\r\n    this._runTimer();\r\n  }\r\n  _countTime() {\r\n    const currentDate = new Date();\r\n    const time = this._targetDate - currentDate;\r\n    if (this._messageHandler(time)) {\r\n      this._remainingTime.days = Math.floor(time / (1000 * 60 * 60 * 24));\r\n      this._remainingTime.hours = Math.floor(\r\n        (time % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60),\r\n      );\r\n      this._remainingTime.mins = Math.floor(\r\n        (time % (1000 * 60 * 60)) / (1000 * 60),\r\n      );\r\n      this._remainingTime.secs = Math.floor((time % (1000 * 60)) / 1000);\r\n    }\r\n  }\r\n  _messageHandler(time) {\r\n    if (time < 1000 && time > 0) {\r\n      this._clearTimer();\r\n      this._showMessage('The countdown is over', 'rgba(0, 66, 20, 0.8)');\r\n      return false;\r\n    } else if (time < 0) {\r\n      this._clearTimer();\r\n      this._showMessage(\r\n        'Error. The date smaller that now.',\r\n        'rgba(255, 0, 0, 0.8)',\r\n      );\r\n      return false;\r\n    } else {\r\n      this._hideMessage();\r\n      return true;\r\n    }\r\n  }\r\n  _setValues() {\r\n    this._numberAnimation(\r\n      this._setValue(this._remainingTime.days),\r\n      this._refs.days,\r\n    );\r\n    this._numberAnimation(\r\n      this._setValue(this._remainingTime.hours),\r\n      this._refs.hours,\r\n    );\r\n    this._numberAnimation(\r\n      this._setValue(this._remainingTime.mins),\r\n      this._refs.mins,\r\n    );\r\n    this._numberAnimation(\r\n      this._setValue(this._remainingTime.secs),\r\n      this._refs.secs,\r\n    );\r\n  }\r\n  _setValue(value) {\r\n    return value.toString().length === 1 ? '0' + value : value;\r\n  }\r\n  _numberAnimation(value, ref) {\r\n    if (Number.parseInt(value) === Number.parseInt(ref.textContent)) {\r\n      return;\r\n    }\r\n    ref.style.transform = 'rotate3d(1, 0, 0, -90deg) scale3d(1.2, 1.2, 1.2)';\r\n    setTimeout(() => {\r\n      ref.style.transform = 'rotate3d(0, 0, 0, -90deg) scale3d(1, 1, 1)';\r\n      ref.textContent = value;\r\n    }, 500);\r\n  }\r\n  _clearTimer() {\r\n    clearInterval(this._timerId);\r\n    this._refs.days.textContent = this._refs.hours.textContent = this._refs.mins.textContent = this._refs.secs.textContent = 0;\r\n    this._remainingTime.days = this._remainingTime.hours = this._remainingTime.mins = this._remainingTime.secs = 0;\r\n  }\r\n  _runTimer() {\r\n    clearInterval(this._timerId);\r\n    this._timerId = setInterval(() => {\r\n      this._countTime();\r\n      this._setValues();\r\n      this._setTimerDescriptionValue();\r\n    }, 1000);\r\n  }\r\n  _checkLocalStorage() {\r\n    if (\r\n      localStorage.getItem('timerTargetYear') ||\r\n      localStorage.getItem('timerTargetMonth') ||\r\n      localStorage.getItem('timerTargetDay')\r\n    ) {\r\n      return true;\r\n    }\r\n  }\r\n  _setLocalStorageTargetDate(year, month, day, hour = 0, min = 0, sec = 0) {\r\n    localStorage.setItem('timerTargetYear', year);\r\n    localStorage.setItem('timerTargetMonth', month);\r\n    localStorage.setItem('timerTargetDay', day);\r\n    localStorage.setItem('timerTargetHour', hour);\r\n    localStorage.setItem('timerTargetMin', min);\r\n    localStorage.setItem('timerTargetSec', sec);\r\n  }\r\n  _getLocalStorageTargetDate() {\r\n    this.setTargetDate(\r\n      localStorage.getItem('timerTargetYear'),\r\n      localStorage.getItem('timerTargetMonth'),\r\n      localStorage.getItem('timerTargetDay'),\r\n      localStorage.getItem('timerTargetHour'),\r\n      localStorage.getItem('timerTargetMin'),\r\n      localStorage.getItem('timerTargetSec'),\r\n    );\r\n  }\r\n  _createMessageEl() {\r\n    const messageEl = document.createElement('div');\r\n    messageEl.style.position = 'absolute';\r\n    messageEl.style.top = '10px';\r\n    messageEl.style.padding = '20px';\r\n    messageEl.style.borderRadius = '5px';\r\n    messageEl.style.opacity = '0';\r\n    messageEl.style.pointerEvents = 'none';\r\n    messageEl.style.transition =\r\n      'opacity 250ms ease-out, background-color 250ms ease-out';\r\n\r\n    return messageEl;\r\n  }\r\n  _showMessage(text, color) {\r\n    this._refs.messageEl.style.backgroundColor = color;\r\n    this._refs.messageEl.textContent = text;\r\n    this._refs.messageEl.style.opacity = '1';\r\n  }\r\n  _hideMessage() {\r\n    this._refs.messageEl.style.opacity = '0';\r\n  }\r\n  _createTimerDescriptionEl() {\r\n    const description = document.createElement('div');\r\n    description.style.margin = '0';\r\n    description.style.marginTop = '20px';\r\n    description.style.textAlign = 'center';\r\n    description.style.fontStyle = 'italic';\r\n    description.textContent = `Target date: `;\r\n\r\n    return description;\r\n  }\r\n  _setTimerDescriptionValue() {\r\n    this._refs.descriptionEl.textContent = `Target date: ${this._targetDate.toLocaleString()}`;\r\n  }\r\n}\r\n","export class DatePicker {\r\n  constructor({\r\n    yearSelector,\r\n    monthSelector,\r\n    daySelector,\r\n    hourSelector,\r\n    minSelector,\r\n    secSelector,\r\n    buttonSelector,\r\n    startYear = 2021,\r\n    startMonth = 1,\r\n    startDay = 1,\r\n    startHour = 0,\r\n    startMin = 0,\r\n    startSec = 0,\r\n  }) {\r\n    this._dateRefs = {\r\n      year: document.querySelector(yearSelector),\r\n      month: document.querySelector(monthSelector),\r\n      day: document.querySelector(daySelector),\r\n      hour: document.querySelector(hourSelector),\r\n      min: document.querySelector(minSelector),\r\n      sec: document.querySelector(secSelector),\r\n      button: document.querySelector(buttonSelector),\r\n    };\r\n    this._setDateValues(\r\n      startYear,\r\n      startMonth,\r\n      startDay,\r\n      startHour,\r\n      startMin,\r\n      startSec,\r\n    );\r\n  }\r\n  _setDateValues(year, month, day, hour, min, sec) {\r\n    this._dateRefs.year.value = year;\r\n    this._dateRefs.month.value = month;\r\n    this._dateRefs.day.value = day;\r\n    this._dateRefs.hour.value = hour;\r\n    this._dateRefs.min.value = min;\r\n    this._dateRefs.sec.value = sec;\r\n  }\r\n  _buttonHandler(cb) {\r\n    cb(\r\n      Number.parseInt(this._dateRefs.year.value),\r\n      Number.parseInt(this._dateRefs.month.value),\r\n      Number.parseInt(this._dateRefs.day.value),\r\n      Number.parseInt(this._dateRefs.hour.value),\r\n      Number.parseInt(this._dateRefs.min.value),\r\n      Number.parseInt(this._dateRefs.sec.value),\r\n    );\r\n  }\r\n}\r\n","import './styles.css';\r\nimport { CountdownTimer } from './js/CountdownTimer';\r\nimport { DatePicker } from './js/DatePicker';\r\nimport { Date } from 'core-js';\r\n\r\nconst countdownTimer = new CountdownTimer({\r\n  selector: '#timer-1',\r\n  targetDate: new Date('Dec 18, 2021'),\r\n});\r\n\r\nconst date = new Date();\r\nconst datePicker = new DatePicker({\r\n  yearSelector: '#year',\r\n  monthSelector: '#month',\r\n  daySelector: '#day',\r\n  hourSelector: '#hour',\r\n  minSelector: '#min',\r\n  secSelector: '#sec',\r\n  buttonSelector: 'button[data-action=\"set-timer\"]',\r\n  startYear: date.getFullYear(),\r\n  startMonth: date.getMonth() + 1,\r\n  startDay: date.getDate(),\r\n  startHour: date.getHours(),\r\n  startMin: date.getMinutes(),\r\n  startSec: date.getSeconds(),\r\n});\r\n\r\ndatePicker._dateRefs.button.addEventListener(\r\n  'click',\r\n  datePicker._buttonHandler.bind(\r\n    datePicker,\r\n    countdownTimer.setTargetDate.bind(countdownTimer),\r\n  ),\r\n);\r\n"],"sourceRoot":""}